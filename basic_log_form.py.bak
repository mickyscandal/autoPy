from tkinter import *
from tkinter.ttk import *

LARGE_FONT = ("Verdana", 20)

CONSTRUCTION = 'This app is still under development, check back soon!'

class AutoLogApp(Tk):

    def __init__(self, *args, **kwargs):
        Tk.__init__(self, *args, **kwargs)
        container = Frame(self, relief=RIDGE, borderwidth=3)

        container.pack(side="top", fill="both", expand=True)

        container.grid_rowconfigure(0, weight=1)
        container.grid_columnconfigure(0, weight=1)

        self.frames = {}

        for F in (SplashPage, GasLog):              ## PAGE CLASSES NEED TO BE LISTED HERE

            frame = F(container, self)

            self.frames[F] = frame

            frame.grid(row=0, column=0, sticky='nsew')

        self.show_frame(SplashPage)


    def show_frame(self, cont):
        frame = self.frames[cont]
        frame.tkraise()


class SplashPage(Frame):
    '''Application start page

    This is the applications default page, when you open the app this screen appears first
    '''
    def __init__(self, parent, controller):
        Frame.__init__(self, parent)

        header = Frame(self, relief='ridge', borderwidth=3)
        header.grid(row=0, column=0, columnspan=2, sticky='nsew')

        welcomeLbl = Label(header, text="Welcome to AutoPy!", font=LARGE_FONT)
        welcomeLbl.grid(row=0, column=0, padx=5, pady=5, sticky='nsew')

        noteLbl = Label(header, text=CONSTRUCTION)
        noteLbl.grid(row=1, column=0)

        button1 = Button(self, text="Preview App (gas log)",
                            command=lambda: controller.show_frame(GasLog))
        button1.grid(row=1, column=0)

        button2 = Button(self, text="Quit",
                            command=parent.quit)
        button2.grid(row=1, column=1)


class GasLog(Frame):
    def __init__(self, parent, controller):
        Frame.__init__(self, parent)
        self.createLog()
        self.loadLog()
        self.grid(sticky='nsew')
        homeBtn = Button(self, text="back home",
                        command=lambda: controller.show_frame(SplashPage))
        homeBtn.grid(row=1, column=0, sticky="nsew")

    def createLog(self):
        tbl = Treeview(self)
        tbl['columns'] = ('field2', 'field3', 'field4')
        tbl.heading("#0", text="Field 1", anchor='w')
        tbl.column("#0", anchor='w')
        tbl.heading('field2', text="Field 2")
        tbl.column('field2', anchor='center', width=100)
        tbl.heading('field3', text="Field 3")
        tbl.column('field3', anchor='center', width=100)
        tbl.heading('field4', text="Field 4")
        tbl.column('field4', anchor='center', width=100)
        tbl.grid(sticky='nsew')
        self.treeview = tbl
        self.grid_rowconfigure(0, weight=1)
        self.grid_columnconfigure(0, weight=1)

    def loadLog(self):
        self.treeview.insert('', 'end', text="Here is", values=('some',
                    'table', 'data'))
        self.treeview.insert('', 'end', text="and here", values=('is',
                    'some', 'more'))


if __name__ =="__main__":
    app = AutoLogApp()
    app.mainloop()
